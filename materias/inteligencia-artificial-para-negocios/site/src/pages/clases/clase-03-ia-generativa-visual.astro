---
import BaseLayout from "../../layouts/BaseLayout.astro";
import ClassHero from "../../components/ClassHero.astro";
import BentoGrid from "../../components/BentoGrid.astro";
import ToolCard from "../../components/ToolCard.astro";
import WorkflowStepper from "../../components/WorkflowStepper.astro";

import {
  heroData,
  fundamentals,
  tools,
  workflow,
  useCases,
  promptExamples,
  bestPractices,
  videoData,
  finalChallenge
} from "../../data/clase-03-data";
---

<BaseLayout title="Clase 03 ¬∑ IA Generativa Visual ‚Äî IA para Negocios">
  <!-- Hero Section -->
  <ClassHero
    classNumber={heroData.classNumber}
    title={heroData.title}
    subtitle={heroData.subtitle}
    date={heroData.date}
    duration={heroData.duration}
    modality={heroData.modality}
    vinylImage={heroData.vinylImage}
    haloImage={heroData.haloImage}
    stack={heroData.stack}
    metrics={heroData.metrics}
  />

  <!-- Bento Grid - Key Concepts -->
  <section class="mt-16 px-6 md:px-12 lg:px-16">
    <BentoGrid items={fundamentals} />
  </section>

  <!-- Workflow Steps -->
  <section class="mt-16 px-6 md:px-12 lg:px-16">
    <h2 class="mb-6 font-rajdhani text-3xl text-white">
      üîÑ Workflow Completo: De Idea a Presentaci√≥n
    </h2>
    <WorkflowStepper steps={workflow} />
  </section>

  <!-- Tools Grid -->
  <section class="mt-16 px-6 md:px-12 lg:px-16">
    <h2 class="mb-6 font-rajdhani text-3xl text-white">
      üõ†Ô∏è Herramientas de IA Generativa
    </h2>
    <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      {tools.map((tool: any) => (
        <ToolCard tool={tool} />
      ))}
    </div>
  </section>

  <!-- Use Cases -->
  <section class="mt-16 px-6 md:px-12 lg:px-16">
    <h2 class="mb-6 font-rajdhani text-3xl text-white">
      üíº Casos de Uso Reales
    </h2>
    <div class="space-y-6">
      {useCases.map((useCase: any, index: number) => (
        <div class="rounded-2xl border border-cyan-500/30 bg-cyan-500/5 p-6">
          <h3 class="mb-3 font-rajdhani text-2xl text-cyan-400">
            {index + 1}. {useCase.title}
          </h3>
          <div class="space-y-3">
            <div>
              <p class="font-semibold text-white">Contexto:</p>
              <p class="text-slate-300">{useCase.context}</p>
            </div>
            <div>
              <p class="font-semibold text-white">Workflow utilizado:</p>
              <p class="text-slate-300">{useCase.tool}</p>
            </div>
            <div>
              <p class="font-semibold text-white">Resultado:</p>
              <p class="text-slate-300">{useCase.output}</p>
            </div>
            <div>
              <p class="font-semibold text-white">Lecci√≥n clave:</p>
              <p class="text-slate-300">{useCase.lesson}</p>
            </div>
          </div>
        </div>
      ))}
    </div>
  </section>

  <!-- Prompt Examples -->
  <section class="mt-16 px-6 md:px-12 lg:px-16">
    <h2 class="mb-6 font-rajdhani text-3xl text-white">
      üí¨ Biblioteca de Prompts Optimizados
    </h2>
    <div class="space-y-4">
      {promptExamples.map((prompt: any) => (
        <div class="rounded-2xl border border-white/10 bg-white/5 p-6">
          <div class="mb-3 flex items-center justify-between">
            <h3 class="font-rajdhani text-xl text-white">{prompt.label}</h3>
            <span class="rounded-full border border-purple-500/50 bg-purple-500/10 px-3 py-1 text-xs text-purple-400">
              {prompt.category}
            </span>
          </div>
          <pre class="overflow-x-auto rounded-lg bg-black/50 p-4 text-sm text-slate-300"><code>{prompt.content}</code></pre>
          <button
            onclick={`navigator.clipboard.writeText(\`${prompt.content.replace(/`/g, '\\`')}\`)`}
            class="mt-3 inline-flex items-center gap-2 rounded-full border border-cyan-500/50 bg-cyan-500/10 px-4 py-2 text-sm font-medium text-cyan-400 transition hover:border-cyan-400 hover:bg-cyan-500/20"
          >
            üìã Copiar prompt
          </button>
        </div>
      ))}
    </div>
  </section>

  <!-- Best Practices -->
  <section class="mt-16 px-6 md:px-12 lg:px-16">
    <h2 class="mb-6 font-rajdhani text-3xl text-white">
      ‚ö° Buenas Pr√°cticas y Errores Comunes
    </h2>
    <div class="grid gap-6 md:grid-cols-2">
      <!-- DO Column -->
      <div>
        <h3 class="mb-4 font-rajdhani text-2xl text-green-400">‚úÖ S√ç HACER</h3>
        <div class="space-y-4">
          {bestPractices.filter((bp: any) => bp.type === "do").map((practice: any) => (
            <div class="rounded-2xl border border-green-500/30 bg-green-500/5 p-4">
              <h4 class="mb-2 font-semibold text-white">{practice.title}</h4>
              <p class="text-sm text-slate-300">{practice.description}</p>
            </div>
          ))}
        </div>
      </div>

      <!-- DON'T Column -->
      <div>
        <h3 class="mb-4 font-rajdhani text-2xl text-red-400">‚ö†Ô∏è NO HACER</h3>
        <div class="space-y-4">
          {bestPractices.filter((bp: any) => bp.type === "dont").map((practice: any) => (
            <div class="rounded-2xl border border-red-500/30 bg-red-500/5 p-4">
              <h4 class="mb-2 font-semibold text-white">{practice.title}</h4>
              <p class="text-sm text-slate-300">{practice.description}</p>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Video Section -->
  <section class="mt-16 px-6 md:px-12 lg:px-16">
    <h2 class="mb-8 text-center font-orbitron text-3xl font-bold text-white">
      üé• Grabaci√≥n de la Clase
    </h2>
    <div class="mx-auto max-w-4xl">
      {videoData.available ? (
        <>
          <div class="relative aspect-video overflow-hidden rounded-2xl border border-white/10 bg-black/50 shadow-2xl">
            <iframe
              src={videoData.driveUrl}
              class="absolute inset-0 h-full w-full"
              allow="autoplay"
              allowfullscreen
            ></iframe>
          </div>
          <p class="mt-4 text-center text-sm text-slate-400">
            Grabaci√≥n completa de la sesi√≥n con todas las demostraciones en vivo.
            <a
              href={videoData.driveUrl.replace('/preview', '/view?usp=drive_link')}
              target="_blank"
              rel="noopener noreferrer"
              class="ml-2 text-cyan-400 hover:text-cyan-300 transition"
            >
              Abrir en Google Drive ‚Üí
            </a>
          </p>
          <!-- Chapters -->
          <div class="mt-6 rounded-2xl border border-white/10 bg-white/5 p-6">
            <h3 class="mb-4 font-rajdhani text-xl text-white">üìë Cap√≠tulos</h3>
            <div class="space-y-2">
              {videoData.chapters.map((chapter: any) => (
                <div class="flex items-start gap-3 text-sm">
                  <span class="font-mono text-cyan-400">{chapter.time}</span>
                  <span class="text-slate-300">{chapter.title}</span>
                </div>
              ))}
            </div>
          </div>
        </>
      ) : (
        <div class="relative aspect-video overflow-hidden rounded-2xl border border-white/10 bg-gradient-to-br from-purple-900/20 to-black/50 shadow-2xl">
          <div class="absolute inset-0 flex flex-col items-center justify-center p-8 text-center">
            <div class="mb-4 text-6xl">üé¨</div>
            <h3 class="mb-2 font-rajdhani text-2xl text-white">Video Pr√≥ximamente</h3>
            <p class="text-slate-400">La grabaci√≥n de esta clase estar√° disponible en breve.</p>
            <p class="mt-4 text-sm text-slate-500">Duraci√≥n estimada: {videoData.duration}</p>
          </div>
        </div>
      )}
    </div>
  </section>

  <!-- Final Challenge -->
  <section class="mt-16 px-6 md:px-12 lg:px-16">
    <div class="rounded-3xl border border-red-500/30 bg-gradient-to-br from-red-500/10 to-transparent p-8">
      <h2 class="mb-4 font-rajdhani text-3xl text-white">
        üéØ Reto Final
      </h2>
      <p class="mb-6 text-lg text-slate-300">
        {finalChallenge.description}
      </p>
      <div class="mb-6">
        <h3 class="mb-3 font-rajdhani text-xl text-white">Requisitos:</h3>
        <ul class="list-inside list-disc space-y-2 text-slate-300">
          {finalChallenge.requirements.map((req: string) => (
            <li>{req}</li>
          ))}
        </ul>
      </div>
      <div class="mb-6">
        <h3 class="mb-3 font-rajdhani text-xl text-white">Criterios de Evaluaci√≥n:</h3>
        <ul class="list-inside list-disc space-y-2 text-slate-300">
          {finalChallenge.evaluation.map((criterion: string) => (
            <li>{criterion}</li>
          ))}
        </ul>
      </div>
      <p class="text-sm text-slate-400">‚è∞ Fecha de entrega: {finalChallenge.deadline}</p>
    </div>
  </section>

  <!-- Call to Action -->
  <section class="mt-16 px-6 md:px-12 lg:px-16">
    <div class="rounded-3xl border border-cyan-500/30 bg-gradient-to-br from-cyan-500/10 to-transparent p-8">
      <h2 class="mb-4 font-rajdhani text-3xl text-white">
        üöÄ ¬°Empieza a Crear!
      </h2>
      <p class="mb-6 text-slate-300">
        Ahora que conoces el workflow completo, es momento de crear tu propia presentaci√≥n profesional en minutos.
      </p>
      <div class="flex flex-wrap gap-4">
        <a
          href="https://www.perplexity.ai"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 rounded-full border border-purple-500/50 bg-purple-500/10 px-6 py-3 font-medium text-white transition hover:border-purple-400 hover:bg-purple-500/20"
        >
          Investigar con Perplexity ‚Üí
        </a>
        <a
          href="https://chatgpt.com"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 rounded-full border border-cyan-500/50 bg-cyan-500/10 px-6 py-3 font-medium text-white transition hover:border-cyan-400 hover:bg-cyan-500/20"
        >
          Estructurar con ChatGPT Canvas ‚Üí
        </a>
        <a
          href="https://gamma.app"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 rounded-full border border-red-500/50 bg-red-500/10 px-6 py-3 font-medium text-white transition hover:border-red-400 hover:bg-red-500/20"
        >
          Dise√±ar con Gamma.app ‚Üí
        </a>
      </div>
    </div>
  </section>

  <!-- Resources -->
  <section class="mt-16 px-6 md:px-12 lg:px-16 pb-16">
    <h2 class="mb-6 font-rajdhani text-3xl text-white">
      üìö Recursos Adicionales
    </h2>
    <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      <a
        href="https://github.com/jzuluaga/externado-docencia/tree/main/materias/inteligencia-artificial-para-negocios/clases/2025-10-28-clase-03-ia-generativa-visual"
        target="_blank"
        rel="noopener noreferrer"
        class="group rounded-2xl border border-white/10 bg-white/5 p-6 transition hover:border-cyan-500/50 hover:bg-white/10"
      >
        <h3 class="mb-2 font-rajdhani text-xl text-white group-hover:text-cyan-400">
          üìã README de la Clase
        </h3>
        <p class="text-sm text-slate-400">
          Gu√≠a pedag√≥gica completa con objetivos, metodolog√≠a y resumen ejecutivo.
        </p>
      </a>
      <a
        href="https://github.com/jzuluaga/externado-docencia/blob/main/materias/inteligencia-artificial-para-negocios/clases/2025-10-28-clase-03-ia-generativa-visual/transcripc%20clase3.docx"
        target="_blank"
        rel="noopener noreferrer"
        class="group rounded-2xl border border-white/10 bg-white/5 p-6 transition hover:border-red-500/50 hover:bg-white/10"
      >
        <h3 class="mb-2 font-rajdhani text-xl text-white group-hover:text-red-400">
          üìù Transcript
        </h3>
        <p class="text-sm text-slate-400">
          Transcript completo de la clase con todas las demostraciones explicadas.
        </p>
      </a>
      <a
        href={`${import.meta.env.BASE_URL}/docs/syllabus`}
        class="group rounded-2xl border border-white/10 bg-white/5 p-6 transition hover:border-purple-500/50 hover:bg-white/10"
      >
        <h3 class="mb-2 font-rajdhani text-xl text-white group-hover:text-purple-400">
          üìñ Syllabus
        </h3>
        <p class="text-sm text-slate-400">
          Revisa el programa completo del curso y las pr√≥ximas clases.
        </p>
      </a>
    </div>
  </section>
</BaseLayout>
